"use strict";(globalThis.webpackChunkcoo_llm_docs=globalThis.webpackChunkcoo_llm_docs||[]).push([[5112],{5470:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Getting-Started/First-Steps","title":"First Steps","description":"Set up API keys, make your first requests, and handle common errors","source":"@site/content/Getting-Started/First-Steps.md","sourceDirName":"Getting-Started","slug":"/Getting-Started/First-Steps","permalink":"/docs/docs/Getting-Started/First-Steps","draft":false,"unlisted":false,"editUrl":"https://github.com/coo-llm/coo-llm-main/tree/main/docs/content/content/Getting-Started/First-Steps.md","tags":[{"inline":true,"label":"getting-started","permalink":"/docs/docs/tags/getting-started"},{"inline":true,"label":"first-steps","permalink":"/docs/docs/tags/first-steps"},{"inline":true,"label":"api-keys","permalink":"/docs/docs/tags/api-keys"},{"inline":true,"label":"usage","permalink":"/docs/docs/tags/usage"},{"inline":true,"label":"error-handling","permalink":"/docs/docs/tags/error-handling"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"tags":["getting-started","first-steps","api-keys","usage","error-handling"],"description":"Set up API keys, make your first requests, and handle common errors","keywords":["API keys","authentication","error handling","troubleshooting","usage"]},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/docs/docs/Getting-Started/Quick-Start"},"next":{"title":"What\'s Next","permalink":"/docs/docs/Getting-Started/Whats-Next"}}');var i=r(4848),t=r(8453);const o={sidebar_position:4,tags:["getting-started","first-steps","api-keys","usage","error-handling"],description:"Set up API keys, make your first requests, and handle common errors",keywords:["API keys","authentication","error handling","troubleshooting","usage"]},d="First Steps",a={},l=[{value:"API Key Setup",id:"api-key-setup",level:2},{value:"1. Provider API Keys",id:"1-provider-api-keys",level:3},{value:"2. Client API Keys",id:"2-client-api-keys",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Making API Calls",id:"making-api-calls",level:3},{value:"Model Format",id:"model-format",level:3},{value:"Response Format",id:"response-format",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Common Errors",id:"common-errors",level:3},{value:"Error Codes Reference",id:"error-codes-reference",level:3},{value:"Handling Errors in Code",id:"handling-errors-in-code",level:3},{value:"Monitoring Your Usage",id:"monitoring-your-usage",level:2},{value:"Check Health Status",id:"check-health-status",level:3},{value:"View Metrics (Admin API)",id:"view-metrics-admin-api",level:3},{value:"Web UI Dashboard",id:"web-ui-dashboard",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"first-steps",children:"First Steps"})}),"\n",(0,i.jsx)(n.p,{children:"Now that you have COO-LLM running, let's set up API keys, make your first requests, and handle common errors."}),"\n",(0,i.jsx)(n.h2,{id:"api-key-setup",children:"API Key Setup"}),"\n",(0,i.jsx)(n.p,{children:"COO-LLM requires API keys for authentication and provider access. There are two types of keys:"}),"\n",(0,i.jsx)(n.h3,{id:"1-provider-api-keys",children:"1. Provider API Keys"}),"\n",(0,i.jsx)(n.p,{children:"These are your actual LLM provider keys (OpenAI, Gemini, Claude). They are used to make requests to external APIs."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Environment Variables:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export OPENAI_API_KEY="sk-your-openai-key"\nexport GEMINI_API_KEY="your-gemini-key"\nexport CLAUDE_API_KEY="your-claude-key"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration File:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'llm_providers:\n  - id: "openai-prod"\n    type: "openai"\n    api_keys: ["sk-your-openai-key"]\n    model: "gpt-4o"\n  - id: "gemini"\n    type: "gemini"\n    api_keys: ["your-gemini-key"]\n    model: "gemini-pro"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-client-api-keys",children:"2. Client API Keys"}),"\n",(0,i.jsx)(n.p,{children:"These are keys your applications use to authenticate with COO-LLM. They control which providers can be accessed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'api_keys:\n  - id: "client-001"\n    key: "client-key-1"\n    allowed_providers: ["openai-prod", "gemini"]\n    limits:\n      req_per_min: 100\n      tokens_per_min: 50000\n  - key: "admin-key"\n    allowed_providers: ["*"]  # All providers\n    admin: true\n'})}),"\n",(0,i.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.h3,{id:"making-api-calls",children:"Making API Calls"}),"\n",(0,i.jsx)(n.p,{children:"Use the OpenAI-compatible API format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Chat completions\ncurl -X POST http://localhost:2906/api/v1/chat/completions \\\n  -H "Authorization: Bearer client-key-1" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "model": "openai-prod:gpt-4o",\n    "messages": [{"role": "user", "content": "Hello!"}],\n    "max_tokens": 100\n  }\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"model-format",children:"Model Format"}),"\n",(0,i.jsxs)(n.p,{children:["Models are specified as ",(0,i.jsx)(n.code,{children:"provider_id:model_name"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openai-prod:gpt-4o"})," - Use GPT-4o from openai-prod provider"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gemini:gemini-pro"})," - Use Gemini Pro from gemini provider"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"claude:claude-3-sonnet-20240229"})," - Use Claude 3 Sonnet"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"response-format",children:"Response Format"}),"\n",(0,i.jsx)(n.p,{children:"COO-LLM returns standard OpenAI API responses:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "chatcmpl-123",\n  "object": "chat.completion",\n  "created": 1677652288,\n  "model": "openai-prod:gpt-4o",\n  "choices": [{\n    "index": 0,\n    "message": {\n      "role": "assistant",\n      "content": "Hello! How can I help you?"\n    },\n    "finish_reason": "stop"\n  }],\n  "usage": {\n    "prompt_tokens": 13,\n    "completion_tokens": 7,\n    "total_tokens": 20\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.h3,{id:"common-errors",children:"Common Errors"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"401 Unauthorized:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "message": "invalid api key",\n    "type": "authentication_error",\n    "code": "invalid_api_key"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Check your client API key in the Authorization header."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"403 Forbidden:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "message": "provider not allowed",\n    "type": "authorization_error",\n    "code": "provider_not_allowed"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Ensure the provider is in ",(0,i.jsx)(n.code,{children:"allowed_providers"})," for your key."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"429 Rate Limited:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "message": "rate limit exceeded",\n    "type": "rate_limit_error",\n    "code": "rate_limit_exceeded"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," COO-LLM will automatically retry with different keys. Increase limits in config if needed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"400 Bad Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "message": "model \'invalid-model\' not found",\n    "type": "invalid_request_error",\n    "code": "model_not_found"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Check model format (",(0,i.jsx)(n.code,{children:"provider:model"}),") and ensure provider exists."]}),"\n",(0,i.jsx)(n.h3,{id:"error-codes-reference",children:"Error Codes Reference"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Solution"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"invalid_api_key"})}),(0,i.jsx)(n.td,{children:"Client key invalid"}),(0,i.jsx)(n.td,{children:"Check Authorization header"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"provider_not_allowed"})}),(0,i.jsx)(n.td,{children:"Provider access denied"}),(0,i.jsxs)(n.td,{children:["Update ",(0,i.jsx)(n.code,{children:"allowed_providers"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rate_limit_exceeded"})}),(0,i.jsx)(n.td,{children:"Too many requests"}),(0,i.jsx)(n.td,{children:"Wait or increase limits"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"model_not_found"})}),(0,i.jsx)(n.td,{children:"Invalid model format"}),(0,i.jsxs)(n.td,{children:["Use ",(0,i.jsx)(n.code,{children:"provider:model"})," format"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"provider_error"})}),(0,i.jsx)(n.td,{children:"Upstream provider error"}),(0,i.jsx)(n.td,{children:"Check provider status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"configuration_error"})}),(0,i.jsx)(n.td,{children:"Config issue"}),(0,i.jsx)(n.td,{children:"Check server logs"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"handling-errors-in-code",children:"Handling Errors in Code"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Python Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import openai\nimport time\n\nclient = openai.OpenAI(\n    api_key="client-key-1",\n    base_url="http://localhost:2906/api/v1"\n)\n\ndef safe_completion(messages, retries=3):\n    for attempt in range(retries):\n        try:\n            response = client.chat.completions.create(\n                model="openai-prod:gpt-4o",\n                messages=messages\n            )\n            return response\n        except openai.RateLimitError:\n            if attempt < retries - 1:\n                time.sleep(2 ** attempt)  # Exponential backoff\n                continue\n            raise\n        except openai.AuthenticationError:\n            raise  # Don\'t retry auth errors\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"JavaScript Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"async function safeCompletion(messages) {\n  const maxRetries = 3;\n  for (let attempt = 0; attempt < maxRetries; attempt++) {\n    try {\n      const response = await fetch('http://localhost:2906/api/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer client-key-1',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: 'openai-prod:gpt-4o',\n          messages: messages\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        if (response.status === 429 && attempt < maxRetries - 1) {\n          // Rate limited, retry with backoff\n          await new Promise(resolve => setTimeout(resolve, 1000 * 2 ** attempt));\n          continue;\n        }\n        throw new Error(`${response.status}: ${error.error.message}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      if (attempt === maxRetries - 1) throw error;\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"monitoring-your-usage",children:"Monitoring Your Usage"}),"\n",(0,i.jsx)(n.h3,{id:"check-health-status",children:"Check Health Status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:2906/health\n"})}),"\n",(0,i.jsx)(n.h3,{id:"view-metrics-admin-api",children:"View Metrics (Admin API)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer admin-key" \\\n  http://localhost:2906/admin/metrics\n'})}),"\n",(0,i.jsx)(n.h3,{id:"web-ui-dashboard",children:"Web UI Dashboard"}),"\n",(0,i.jsxs)(n.p,{children:["Access ",(0,i.jsx)(n.code,{children:"http://localhost:2906/ui"})," to view:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Request counts and success rates"}),"\n",(0,i.jsx)(n.li,{children:"Cost tracking per provider"}),"\n",(0,i.jsx)(n.li,{children:"Active clients and providers"}),"\n",(0,i.jsx)(n.li,{children:"Real-time logs"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/docs/User-Guide/API-Usage",children:"API Usage Guide"})," - Complete API reference"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/docs/Guides/Configuration",children:"Configuration Guide"})," - Advanced setup options"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/docs/User-Guide/Examples",children:"Examples"})," - More code samples"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>d});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);