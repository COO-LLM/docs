"use strict";(globalThis.webpackChunkcoo_llm_docs=globalThis.webpackChunkcoo_llm_docs||[]).push([[6718],{6192:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Reference/Storage/HTTP","title":"HTTP API Storage","description":"REST API-based storage backend for integrating with external storage services.","source":"@site/content/Reference/Storage/HTTP.md","sourceDirName":"Reference/Storage","slug":"/Reference/Storage/HTTP","permalink":"/docs/docs/Reference/Storage/HTTP","draft":false,"unlisted":false,"editUrl":"https://github.com/coo-llm/coo-llm-main/tree/main/docs/content/content/Reference/Storage/HTTP.md","tags":[{"inline":true,"label":"reference","permalink":"/docs/docs/tags/reference"},{"inline":true,"label":"storage","permalink":"/docs/docs/tags/storage"},{"inline":true,"label":"http","permalink":"/docs/docs/tags/http"},{"inline":true,"label":"api","permalink":"/docs/docs/tags/api"}],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"tags":["reference","storage","http","api"]},"sidebar":"tutorialSidebar","previous":{"title":"InfluxDB Storage","permalink":"/docs/docs/Reference/Storage/InfluxDB"},"next":{"title":"File-based Storage","permalink":"/docs/docs/Reference/Storage/File"}}');var s=t(4848),i=t(8453);const o={sidebar_position:5,tags:["reference","storage","http","api"]},a="HTTP API Storage",l={},c=[{value:"Configuration",id:"configuration",level:2},{value:"Features",id:"features",level:2},{value:"API Endpoints",id:"api-endpoints",level:2},{value:"Request/Response Format",id:"requestresponse-format",level:2},{value:"Implementation Details",id:"implementation-details",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"http-api-storage",children:"HTTP API Storage"})}),"\n",(0,s.jsx)(n.p,{children:"REST API-based storage backend for integrating with external storage services."}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'storage:\n  runtime:\n    type: "http"\n    addr: "https://api.example.com/storage"\n    api_key: "${STORAGE_API_KEY}"\n    timeout: "30s"  # Optional, default 30s\n'})}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"REST API Integration"}),": HTTP-based storage operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible Endpoints"}),": Custom API endpoints for different operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication"}),": API key and custom header support"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timeout Handling"}),": Configurable request timeouts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"}),": HTTP status code mapping"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JSON Serialization"}),": Standard JSON data format"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Headers"}),": Support for additional authentication headers"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,s.jsx)(n.p,{children:"The HTTP storage expects REST endpoints:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET    /usage/{provider}/{key_id}/{metric}     # Get usage value\nPOST   /usage/{provider}/{key_id}/{metric}     # Set usage value  \nPOST   /usage/{provider}/{key_id}/{metric}/inc # Increment usage\nGET    /cache/{key}                           # Get cached value\nPOST   /cache/{key}                           # Set cached value with TTL\n"})}),"\n",(0,s.jsx)(n.h2,{id:"requestresponse-format",children:"Request/Response Format"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage Operations:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// GET /usage/openai/key1/req\n{\n  "value": 45.0\n}\n\n// POST /usage/openai/key1/req\n{\n  "value": 46.0\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Cache Operations:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// GET /cache/mykey\n{\n  "value": "cached_data"\n}\n\n// POST /cache/mykey\n{\n  "value": "new_data",\n  "ttl_seconds": 300\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTP Client"}),": Configurable timeout and retry logic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication"}),": Bearer token or custom headers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Serialization"}),": JSON encoding/decoding"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Mapping"}),": HTTP status to storage errors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Connection Pooling"}),": Efficient HTTP connection management"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);