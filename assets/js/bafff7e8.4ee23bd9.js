"use strict";(globalThis.webpackChunkcoo_llm_docs=globalThis.webpackChunkcoo_llm_docs||[]).push([[4478],{3447:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Reference/Admin-API","title":"Admin API Reference","description":"Administrative endpoints for configuration and monitoring (require admin authentication).","source":"@site/content/Reference/Admin-API.md","sourceDirName":"Reference","slug":"/Reference/Admin-API","permalink":"/docs/docs/Reference/Admin-API","draft":false,"unlisted":false,"editUrl":"https://github.com/coo-llm/coo-llm-main/tree/main/docs/content/content/Reference/Admin-API.md","tags":[{"inline":true,"label":"reference","permalink":"/docs/docs/tags/reference"},{"inline":true,"label":"api","permalink":"/docs/docs/tags/api"},{"inline":true,"label":"admin","permalink":"/docs/docs/tags/admin"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["reference","api","admin"]},"sidebar":"tutorialSidebar","previous":{"title":"Fireworks AI Provider","permalink":"/docs/docs/Developer-Guide/Providers/Fireworks"},"next":{"title":"LLM API Reference","permalink":"/docs/docs/Reference/LLM-API"}}');var l=i(4848),r=i(8453);const t={sidebar_position:2,tags:["reference","api","admin"]},d="Admin API Reference",c={},a=[{value:"Authentication",id:"authentication",level:2},{value:"Security Features",id:"security-features",level:2},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Audit Logging",id:"audit-logging",level:3},{value:"CORS Support",id:"cors-support",level:3},{value:"Configuration Management",id:"configuration-management",level:2},{value:"GET /admin/v1/config",id:"get-adminv1config",level:3},{value:"POST /admin/v1/config",id:"post-adminv1config",level:3},{value:"POST /admin/v1/config/validate",id:"post-adminv1configvalidate",level:3},{value:"PUT /admin/v1/config/policy",id:"put-adminv1configpolicy",level:3},{value:"Client Management",id:"client-management",level:2},{value:"POST /admin/v1/clients",id:"post-adminv1clients",level:3},{value:"GET /admin/v1/clients/list",id:"get-adminv1clientslist",level:3},{value:"GET /admin/v1/clients/{client_id}",id:"get-adminv1clientsclient_id",level:3},{value:"PUT /admin/v1/clients/{client_id}",id:"put-adminv1clientsclient_id",level:3},{value:"DELETE /admin/v1/clients/{client_id}",id:"delete-adminv1clientsclient_id",level:3},{value:"Monitoring &amp; Metrics",id:"monitoring--metrics",level:2},{value:"GET /admin/v1/metrics",id:"get-adminv1metrics",level:3},{value:"GET /admin/v1/clients",id:"get-adminv1clients",level:3},{value:"GET /admin/v1/stats",id:"get-adminv1stats",level:3},{value:"Enhanced Metrics",id:"enhanced-metrics",level:2},{value:"GET /admin/v1/metrics/clients/{client_id}",id:"get-adminv1metricsclientsclient_id",level:3},{value:"GET /admin/v1/metrics/providers/{provider_id}",id:"get-adminv1metricsprovidersprovider_id",level:3},{value:"GET /admin/v1/metrics/global",id:"get-adminv1metricsglobal",level:3},{value:"Web UI Authentication",id:"web-ui-authentication",level:2},{value:"POST /admin/login",id:"post-adminlogin",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Rate Limiting",id:"rate-limiting-1",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"admin-api-reference",children:"Admin API Reference"})}),"\n",(0,l.jsx)(n.p,{children:"Administrative endpoints for configuration and monitoring (require admin authentication)."}),"\n",(0,l.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,l.jsxs)(n.p,{children:["Admin endpoints require the ",(0,l.jsx)(n.code,{children:"admin_api_key"})," configured in ",(0,l.jsx)(n.code,{children:"server.admin_api_key"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Authorization: Bearer <admin_api_key>\n"})}),"\n",(0,l.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,l.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,l.jsx)(n.p,{children:"Admin endpoints are protected by rate limiting:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Limit"}),": 100 requests per minute per IP address"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Response"}),": HTTP 429 (Too Many Requests) when exceeded"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"audit-logging",children:"Audit Logging"}),"\n",(0,l.jsx)(n.p,{children:"All admin API requests are logged with:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Request method and path"}),"\n",(0,l.jsx)(n.li,{children:"Client IP address"}),"\n",(0,l.jsx)(n.li,{children:"User agent"}),"\n",(0,l.jsx)(n.li,{children:"Response time"}),"\n",(0,l.jsx)(n.li,{children:"Success/failure status"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"cors-support",children:"CORS Support"}),"\n",(0,l.jsx)(n.p,{children:"Admin API endpoints support Cross-Origin Resource Sharing (CORS) for web applications:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Preflight Requests"}),": OPTIONS requests are automatically handled"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Headers"}),": Standard CORS headers are included in all responses"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Configuration"}),": CORS behavior is controlled by ",(0,l.jsx)(n.code,{children:"server.cors"})," settings"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Credentials"}),": Supports credentialed requests when enabled"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example CORS Headers:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Access-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, Authorization\nAccess-Control-Allow-Credentials: true\nAccess-Control-Max-Age: 86400\n"})}),"\n",(0,l.jsx)(n.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1config",children:"GET /admin/v1/config"}),"\n",(0,l.jsx)(n.p,{children:"Get current configuration."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "version": "1.0",\n  "server": {\n    "listen": ":2906",\n    "admin_api_key": "****"\n  },\n  "llm_providers": [...],\n  "api_keys": [\n    {\n      "id": "client-001",\n      "key": "sk-****",\n      "allowed_providers": ["openai"],\n      "description": "Production client"\n    }\n  ],\n  "policy": {...}\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"post-adminv1config",children:"POST /admin/v1/config"}),"\n",(0,l.jsx)(n.p,{children:"Update configuration (hot-reload)."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "llm_providers": [\n    {\n      "id": "openai",\n      "api_keys": ["sk-new-key"]\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "status": "configuration updated",\n  "reloaded": true\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"post-adminv1configvalidate",children:"POST /admin/v1/config/validate"}),"\n",(0,l.jsx)(n.p,{children:"Validate configuration without applying."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Request Body:"})," Full config JSON"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "valid": true,\n  "errors": []\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"put-adminv1configpolicy",children:"PUT /admin/v1/config/policy"}),"\n",(0,l.jsx)(n.p,{children:"Update the load balancing policy."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "algorithm": "round_robin",\n  "priority": "latency",\n  "cache": {\n    "enabled": true,\n    "ttl_seconds": 60\n  }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Policy updated successfully",\n  "policy": {\n    "algorithm": "round_robin",\n    "priority": "latency",\n    "cache": {\n      "enabled": true,\n      "ttl_seconds": 60\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"client-management",children:"Client Management"}),"\n",(0,l.jsx)(n.h3,{id:"post-adminv1clients",children:"POST /admin/v1/clients"}),"\n",(0,l.jsx)(n.p,{children:"Create a new API client."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "client_id": "client-123",\n  "api_key": "sk-client-key",\n  "description": "Production client for app",\n  "allowed_providers": ["openai", "anthropic"]\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "status": "created",\n  "client_id": "client-123"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1clientslist",children:"GET /admin/v1/clients/list"}),"\n",(0,l.jsx)(n.p,{children:"List all API clients."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "clients": [\n    {\n      "id": "client-123",\n      "api_key": "sk-****",\n      "description": "Production client",\n      "allowed_providers": ["openai", "anthropic"],\n      "created_at": 1700000000,\n      "last_used": 1700001000\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1clientsclient_id",children:"GET /admin/v1/clients/{client_id}"}),"\n",(0,l.jsx)(n.p,{children:"Get details for a specific client."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "id": "client-123",\n  "api_key": "sk-client-key",\n  "description": "Production client",\n  "allowed_providers": ["openai", "anthropic"],\n  "created_at": 1700000000,\n  "last_used": 1700001000\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"put-adminv1clientsclient_id",children:"PUT /admin/v1/clients/{client_id}"}),"\n",(0,l.jsx)(n.p,{children:"Update client configuration."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "description": "Updated description",\n  "allowed_providers": ["openai"]\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "status": "updated",\n  "client_id": "client-123"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"delete-adminv1clientsclient_id",children:"DELETE /admin/v1/clients/{client_id}"}),"\n",(0,l.jsx)(n.p,{children:"Delete an API client."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "status": "deleted",\n  "client_id": "client-123"\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"monitoring--metrics",children:"Monitoring & Metrics"}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1metrics",children:"GET /admin/v1/metrics"}),"\n",(0,l.jsx)(n.p,{children:"Get historical metrics."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"name"}),": Metric name (latency, tokens, cost)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"start"}),": Start timestamp (Unix seconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"end"}),": End timestamp (Unix seconds)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "name": "latency",\n  "start": 1700000000,\n  "end": 1700003600,\n  "points": [\n    {"timestamp": 1700000100, "value": 150.5},\n    {"timestamp": 1700000200, "value": 120.2}\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1clients",children:"GET /admin/v1/clients"}),"\n",(0,l.jsx)(n.p,{children:"Get client API key usage."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "clients": [\n    {\n      "key": "client-a",\n      "requests": 500,\n      "tokens": 10000,\n      "last_used": 1700000000\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1stats",children:"GET /admin/v1/stats"}),"\n",(0,l.jsx)(n.p,{children:"Get overall system statistics."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "uptime": 3600,\n  "total_requests": 1000,\n  "total_tokens": 50000,\n  "total_cost": 25.50,\n  "providers": {\n    "openai": {"requests": 600, "cost": 15.00},\n    "gemini": {"requests": 400, "cost": 10.50}\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"enhanced-metrics",children:"Enhanced Metrics"}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1metricsclientsclient_id",children:"GET /admin/v1/metrics/clients/{client_id}"}),"\n",(0,l.jsx)(n.p,{children:"Get detailed metrics for a specific client."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"start"}),": Start timestamp (Unix seconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"end"}),": End timestamp (Unix seconds)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "client_id": "client-123",\n  "total_requests": 1000,\n  "total_tokens": 50000,\n  "total_cost": 25.50,\n  "success_rate": 0.98,\n  "avg_latency": 150.5,\n  "last_request_time": 1700001000\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1metricsprovidersprovider_id",children:"GET /admin/v1/metrics/providers/{provider_id}"}),"\n",(0,l.jsx)(n.p,{children:"Get detailed metrics for a specific provider."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"start"}),": Start timestamp (Unix seconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"end"}),": End timestamp (Unix seconds)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "provider_id": "openai",\n  "total_requests": 500,\n  "total_tokens": 25000,\n  "total_cost": 12.50,\n  "success_rate": 0.99,\n  "avg_latency": 120.3,\n  "error_count": 5\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"get-adminv1metricsglobal",children:"GET /admin/v1/metrics/global"}),"\n",(0,l.jsx)(n.p,{children:"Get global system metrics."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"start"}),": Start timestamp (Unix seconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"end"}),": End timestamp (Unix seconds)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "total_clients": 5,\n  "total_providers": 3,\n  "total_requests": 2500,\n  "total_tokens": 125000,\n  "total_cost": 62.50,\n  "overall_success_rate": 0.97,\n  "avg_latency": 135.2\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"web-ui-authentication",children:"Web UI Authentication"}),"\n",(0,l.jsx)(n.h3,{id:"post-adminlogin",children:"POST /admin/login"}),"\n",(0,l.jsx)(n.p,{children:"Authenticate for web UI access."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "id": "admin",\n  "password": "password"\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Response:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "token": "webui-admin-1700000000",\n  "expires": 1700003600\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,l.jsx)(n.p,{children:"All admin API errors follow this format:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid configuration",\n  "details": "missing required field: admin_api_key"\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"rate-limiting-1",children:"Rate Limiting"}),"\n",(0,l.jsx)(n.p,{children:"Admin endpoints are protected by rate limiting to prevent abuse:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Limit"}),": 100 requests per minute per IP address"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Response"}),": HTTP 429 (Too Many Requests) when exceeded"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Scope"}),": Applies to all admin API endpoints"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"All admin requests are logged for audit purposes including:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Request details (method, path, IP, user agent)"}),"\n",(0,l.jsx)(n.li,{children:"Response time and status"}),"\n",(0,l.jsx)(n.li,{children:"Authentication attempts"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var s=i(6540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);