"use strict";(globalThis.webpackChunkcoo_llm_docs=globalThis.webpackChunkcoo_llm_docs||[]).push([[7207],{768:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"Reference/Config-Schema","title":"Configuration Schema","description":"Complete YAML schema reference for COO-LLM configuration.","source":"@site/content/Reference/Config-Schema.md","sourceDirName":"Reference","slug":"/Reference/Config-Schema","permalink":"/docs/docs/Reference/Config-Schema","draft":false,"unlisted":false,"editUrl":"https://github.com/coo-llm/coo-llm-main/tree/main/docs/content/content/Reference/Config-Schema.md","tags":[{"inline":true,"label":"reference","permalink":"/docs/docs/tags/reference"},{"inline":true,"label":"config","permalink":"/docs/docs/tags/config"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"tags":["reference","config"]},"sidebar":"tutorialSidebar","previous":{"title":"Changelog","permalink":"/docs/docs/Contributing/Changelog"},"next":{"title":"Error Codes & Troubleshooting","permalink":"/docs/docs/Reference/Error-Codes"}}');var r=n(4848),s=n(8453);const l={sidebar_position:1,tags:["reference","config"]},c="Configuration Schema",t={},h=[{value:"Full Schema",id:"full-schema",level:2},{value:"Provider Configuration",id:"provider-configuration",level:2},{value:"Supported Providers",id:"supported-providers",level:3},{value:"Provider Configuration",id:"provider-configuration-1",level:3},{value:"Key Features",id:"key-features",level:3},{value:"Configuration Management",id:"configuration-management",level:2},{value:"Admin API for Config Updates",id:"admin-api-for-config-updates",level:3},{value:"Field Types &amp; Validation",id:"field-types--validation",level:2},{value:"Server",id:"server",level:3},{value:"Logging",id:"logging",level:3},{value:"Storage",id:"storage",level:3},{value:"LLM Providers",id:"llm-providers",level:3},{value:"API Keys",id:"api-keys",level:3},{value:"Policy",id:"policy",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Migration Guide",id:"migration-guide",level:2},{value:"From Legacy Providers",id:"from-legacy-providers",level:3},{value:"Deprecated Fields",id:"deprecated-fields",level:3}];function o(e){const d={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"configuration-schema",children:"Configuration Schema"})}),"\n",(0,r.jsx)(d.p,{children:"Complete YAML schema reference for COO-LLM configuration."}),"\n",(0,r.jsx)(d.h2,{id:"full-schema",children:"Full Schema"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-yaml",children:'version: "1.0"  # Config version\n\nserver:\n  listen: ":2906"  # Server listen address\n  admin_api_key: "${ADMIN_API_KEY}"  # Admin API key\n  cors:\n    enabled: true  # Enable CORS\n    allowed_origins: ["*"]  # Allowed origins or ["*"]\n    allowed_methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]  # Allowed HTTP methods\n    allowed_headers: ["*"]  # Allowed headers or ["*"]\n    allow_credentials: true  # Allow credentials\n    max_age: 86400  # Preflight cache duration in seconds\n  webui:\n    enabled: true  # Enable web UI\n    admin_id: "admin"  # Web UI admin username\n    admin_password: "password"  # Web UI admin password\n    web_ui_path: "/path/to/custom/ui"  # Optional custom UI path\n\nlogging:\n  file:\n    enabled: true  # Enable file logging\n    path: "./logs/llm.log"  # Log file path\n    max_size_mb: 100  # Max file size in MB\n    max_backups: 5  # Max backup files\n  prometheus:\n    enabled: true  # Enable Prometheus metrics\n    endpoint: "/metrics"  # Metrics endpoint\n  providers: []  # Log provider configs\n\nstorage:\n  config:\n    type: "file"  # Config storage type\n    path: "./data/config.json"  # Config file path\n  runtime:\n    type: "sql"  # Runtime storage type\n    addr: "localhost:6379"  # Redis/InfluxDB address\n    password: "${REDIS_PASSWORD}"  # Redis password\n    api_key: "${INFLUX_TOKEN}"  # InfluxDB token\n    database: "${INFLUX_BUCKET}"  # Database/bucket name\n\nllm_providers:\n  - id: "openai"  # Unique provider ID\n    name: "OpenAI"  # Display name\n    type: "openai"  # Provider type\n    api_keys: ["${OPENAI_KEY_1}", "${OPENAI_KEY_2}"]  # API keys as ENV vars (resolved at runtime)\n    base_url: "https://api.openai.com"  # API base URL\n    model: "gpt-4o"  # Default model\n    pricing:\n      input_token_cost: 0.002  # Cost per input token\n      output_token_cost: 0.01  # Cost per output token\n    limits:\n      req_per_min: 200  # Requests per minute per key\n      tokens_per_min: 100000  # Tokens per minute per key\n      max_tokens: 4096  # Max tokens per request\n      session_limit: 6000000  # Session token limit\n      session_type: "1h"  # Session window\n\napi_keys:\n  - id: "client-001"  # Optional unique identifier\n    key: "${API_KEY}"  # Client API key\n    allowed_providers: ["*"]  # Allowed providers or ["*"]\n    description: "Client description"\n\nmodel_aliases: {}  # Model alias mappings (deprecated)\n\npolicy:\n  strategy: "hybrid"  # Legacy field\n  algorithm: "round_robin"  # Selection algorithm\n  priority: "balanced"  # Preset weights\n  hybrid_weights:\n    token_ratio: 0.2  # Token usage weight\n    req_ratio: 0.2  # Request count weight\n    error_score: 0.2  # Error rate weight\n    latency: 0.2  # Latency weight\n    cost_ratio: 0.2  # Cost weight\n  retry:\n    max_attempts: 3  # Max retry attempts\n    timeout: "30s"  # Request timeout\n    interval: "1s"  # Retry interval\n   cache:\n     enabled: true  # Enable response caching\n     ttl_seconds: 10  # Cache TTL\n'})}),"\n",(0,r.jsx)(d.h2,{id:"provider-configuration",children:"Provider Configuration"}),"\n",(0,r.jsx)(d.p,{children:"COO-LLM supports multiple LLM providers with unified interface:"}),"\n",(0,r.jsx)(d.h3,{id:"supported-providers",children:"Supported Providers"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Provider"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Features"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"OpenAI"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"openai"})}),(0,r.jsx)(d.td,{children:"GPT models, embeddings, vision"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Anthropic Claude"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"claude"})}),(0,r.jsx)(d.td,{children:"Claude models, advanced reasoning"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Google Gemini"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"gemini"})}),(0,r.jsx)(d.td,{children:"Gemini models, multimodal"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Grok"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"grok"})}),(0,r.jsx)(d.td,{children:"xAI Grok models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Fireworks"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"fireworks"})}),(0,r.jsx)(d.td,{children:"Open-source models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Together AI"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"together"})}),(0,r.jsx)(d.td,{children:"Various open-source models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Replicate"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"replicate"})}),(0,r.jsx)(d.td,{children:"Model deployment platform"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Hugging Face"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"huggingface"})}),(0,r.jsx)(d.td,{children:"Open-source models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Mistral"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"mistral"})}),(0,r.jsx)(d.td,{children:"Mistral models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Cohere"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cohere"})}),(0,r.jsx)(d.td,{children:"Command models, embeddings"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"Voyage AI"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"voyage"})}),(0,r.jsx)(d.td,{children:"Embedding models"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"OpenRouter"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"openrouter"})}),(0,r.jsx)(d.td,{children:"Unified API access"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"provider-configuration-1",children:"Provider Configuration"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-yaml",children:'llm_providers:\n  - id: "openai-prod"  # Unique identifier\n    type: "openai"     # Provider type\n    api_keys: ["${OPENAI_KEY1}", "${OPENAI_KEY2}"]  # ENV vars resolved at runtime\n    base_url: "https://api.openai.com/v1"  # Optional custom endpoint\n    model: "gpt-4o"    # Default model\n    pricing:\n      input_token_cost: 0.0025   # Cost per input token\n      output_token_cost: 0.01    # Cost per output token\n    limits:\n      req_per_min: 200           # Rate limits\n      tokens_per_min: 100000\n      max_tokens: 4096\n      session_limit: 1000000     # Token session limits\n      session_type: "1d"         # Window for limits\n'})}),"\n",(0,r.jsx)(d.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Load Balancing"}),": Automatic key rotation and provider selection"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Rate Limiting"}),": Per-key and global limits with session tracking"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Cost Tracking"}),": Real-time cost calculation and monitoring"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Error Handling"}),": Retry logic with fallback providers"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Caching"}),": Response caching for performance"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Security"}),": API keys resolved from ENV, never stored"]}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:["See individual provider docs in ",(0,r.jsx)(d.code,{children:"Developer-Guide/Providers/"})," for setup details."]}),"\n",(0,r.jsx)(d.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,r.jsx)(d.p,{children:"COO-LLM supports dynamic configuration with the following features:"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"ENV Resolution"}),": API keys can be specified as ",(0,r.jsx)(d.code,{children:"${ENV_VAR}"})," and are resolved from environment variables at runtime"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Store Sync"}),": Public configuration is saved to store on startup and can be updated via admin API"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Security"}),": Sensitive data (API keys) are never stored in the config store, only ENV placeholders"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Instance Sync"}),": Multiple instances share public config from store, with local ENV for secrets"]}),"\n"]}),"\n",(0,r.jsx)(d.h3,{id:"admin-api-for-config-updates",children:"Admin API for Config Updates"}),"\n",(0,r.jsx)(d.p,{children:"Use the admin API to update configuration dynamically:"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-bash",children:'# Get current config\ncurl -H "Authorization: Bearer admin-key" http://localhost:2906/api/admin/v1/config\n\n# Update config\ncurl -X POST -H "Authorization: Bearer admin-key" \\\n  -H "Content-Type: application/json" \\\n  http://localhost:2906/api/admin/v1/config \\\n  -d \'{"api_keys": [{"key": "new-key", "allowed_providers": ["openai"]}]}\'\n'})}),"\n",(0,r.jsx)(d.h2,{id:"field-types--validation",children:"Field Types & Validation"}),"\n",(0,r.jsx)(d.h3,{id:"server",children:"Server"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"listen"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:":2906"})}),(0,r.jsx)(d.td,{children:"Valid port format"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"admin_api_key"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.enabled"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.allowed_origins"})}),(0,r.jsx)(d.td,{children:"[]string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:'["*"]'})}),(0,r.jsxs)(d.td,{children:["Valid origins or ",(0,r.jsx)(d.code,{children:'["*"]'})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.allowed_methods"})}),(0,r.jsx)(d.td,{children:"[]string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:'["GET", "POST", "PUT", "DELETE", "OPTIONS"]'})}),(0,r.jsx)(d.td,{children:"Valid HTTP methods"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.allowed_headers"})}),(0,r.jsx)(d.td,{children:"[]string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:'["*"]'})}),(0,r.jsxs)(d.td,{children:["Valid headers or ",(0,r.jsx)(d.code,{children:'["*"]'})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.allow_credentials"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cors.max_age"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"86400"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"webui.enabled"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"webui.admin_id"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"admin"})}),(0,r.jsx)(d.td,{children:"Non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"webui.admin_password"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"password"})}),(0,r.jsx)(d.td,{children:"Non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"webui.web_ui_path"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Valid path if set"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"logging",children:"Logging"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"file.enabled"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"file.path"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"./logs/llm.log"})}),(0,r.jsx)(d.td,{children:"Valid path"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"file.max_size_mb"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"100"})}),(0,r.jsx)(d.td,{children:"> 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"file.max_backups"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"5"})}),(0,r.jsx)(d.td,{children:"> 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"prometheus.enabled"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"prometheus.endpoint"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"/metrics"})}),(0,r.jsx)(d.td,{children:"Valid path"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"storage",children:"Storage"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"config.type"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"file"})}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"file"}),", ",(0,r.jsx)(d.code,{children:"http"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"config.path"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"./data/config.json"})}),(0,r.jsx)(d.td,{children:"Valid path"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"runtime.type"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sql"})}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"redis"}),", ",(0,r.jsx)(d.code,{children:"http"}),", ",(0,r.jsx)(d.code,{children:"influxdb"}),", ",(0,r.jsx)(d.code,{children:"mongodb"}),", ",(0,r.jsx)(d.code,{children:"sql"}),", ",(0,r.jsx)(d.code,{children:"dynamodb"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"runtime.addr"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Valid URL"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"runtime.password"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"runtime.api_key"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"runtime.database"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"llm-providers",children:"LLM Providers"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"id"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Unique, non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"name"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"type"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"openai"}),", ",(0,r.jsx)(d.code,{children:"gemini"}),", ",(0,r.jsx)(d.code,{children:"claude"}),", ",(0,r.jsx)(d.code,{children:"custom"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"api_keys"})}),(0,r.jsx)(d.td,{children:"[]string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"At least 1 key"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"base_url"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Valid URL"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"model"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"pricing.input_token_cost"})}),(0,r.jsx)(d.td,{children:"float64"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"pricing.output_token_cost"})}),(0,r.jsx)(d.td,{children:"float64"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"limits.req_per_min"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"limits.tokens_per_min"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"limits.max_tokens"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"limits.session_limit"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"0"})}),(0,r.jsx)(d.td,{children:">= 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"limits.session_type"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"1h"})}),(0,r.jsx)(d.td,{children:"Valid duration"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"api-keys",children:"API Keys"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"id"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Unique identifier for the API key"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"key"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"Yes"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"Unique, non-empty"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"allowed_providers"})}),(0,r.jsx)(d.td,{children:"[]string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:'["*"]'})}),(0,r.jsxs)(d.td,{children:["Valid provider IDs or ",(0,r.jsx)(d.code,{children:'["*"]'})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"description"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"policy",children:"Policy"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Field"}),(0,r.jsx)(d.th,{children:"Type"}),(0,r.jsx)(d.th,{children:"Required"}),(0,r.jsx)(d.th,{children:"Default"}),(0,r.jsx)(d.th,{children:"Validation"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"algorithm"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"round_robin"})}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"round_robin"}),", ",(0,r.jsx)(d.code,{children:"least_loaded"}),", ",(0,r.jsx)(d.code,{children:"hybrid"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"priority"})}),(0,r.jsx)(d.td,{children:"string"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"balanced"})}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"balanced"}),", ",(0,r.jsx)(d.code,{children:"cost"}),", ",(0,r.jsx)(d.code,{children:"req"}),", ",(0,r.jsx)(d.code,{children:"token"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"hybrid_weights.*"})}),(0,r.jsx)(d.td,{children:"float64"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:"0.0-1.0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"retry.max_attempts"})}),(0,r.jsx)(d.td,{children:"int"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"3"})}),(0,r.jsx)(d.td,{children:"> 0"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"retry.timeout"})}),(0,r.jsx)(d.td,{children:"duration"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"30s"})}),(0,r.jsx)(d.td,{children:"Valid duration"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"retry.interval"})}),(0,r.jsx)(d.td,{children:"duration"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"1s"})}),(0,r.jsx)(d.td,{children:"Valid duration"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cache.enabled"})}),(0,r.jsx)(d.td,{children:"bool"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"true"})}),(0,r.jsx)(d.td,{children:"-"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cache.ttl_seconds"})}),(0,r.jsx)(d.td,{children:"int64"}),(0,r.jsx)(d.td,{children:"No"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"10"})}),(0,r.jsx)(d.td,{children:"> 0"})]})]})]}),"\n",(0,r.jsx)(d.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(d.p,{children:"All string fields support environment variable substitution:"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-yaml",children:'server:\n  admin_api_key: "${ADMIN_API_KEY}"\n  listen: ":${PORT}"\n\nllm_providers:\n  - api_keys: ["${OPENAI_KEY_1}", "${OPENAI_KEY_2}"]\n'})}),"\n",(0,r.jsxs)(d.p,{children:["Variables are expanded at config load time. Use ",(0,r.jsx)(d.code,{children:"export VAR=value"})," before running."]}),"\n",(0,r.jsx)(d.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Required fields"}),": ",(0,r.jsx)(d.code,{children:"version"}),", ",(0,r.jsx)(d.code,{children:"server.listen"}),", ",(0,r.jsx)(d.code,{children:"server.admin_api_key"}),", ",(0,r.jsx)(d.code,{children:"llm_providers[].id"}),", ",(0,r.jsx)(d.code,{children:"llm_providers[].type"}),", ",(0,r.jsx)(d.code,{children:"llm_providers[].api_keys"}),", ",(0,r.jsx)(d.code,{children:"llm_providers[].model"})]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"CORS"}),": When enabled, validates allowed origins, methods, and headers"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Unique constraints"}),": Provider IDs, API key values"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Type validation"}),": Numbers must be numeric, URLs must be valid"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.strong,{children:"Cross-references"}),": ",(0,r.jsx)(d.code,{children:"api_keys[].allowed_providers"})," must reference valid provider IDs"]}),"\n"]}),"\n",(0,r.jsx)(d.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,r.jsx)(d.h3,{id:"from-legacy-providers",children:"From Legacy Providers"}),"\n",(0,r.jsx)(d.p,{children:"Old format:"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-yaml",children:'providers:\n  - id: "openai"\n    keys:\n      - secret: "sk-key"\n        pricing: {...}\n'})}),"\n",(0,r.jsx)(d.p,{children:"New format:"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-yaml",children:'llm_providers:\n  - id: "openai"\n    api_keys: ["sk-key"]\n    pricing: {...}\n'})}),"\n",(0,r.jsx)(d.h3,{id:"deprecated-fields",children:"Deprecated Fields"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.code,{children:"model_aliases"}),": Use provider",":model"," syntax directly"]}),"\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.code,{children:"policy.strategy"}),": Use ",(0,r.jsx)(d.code,{children:"policy.algorithm"})]}),"\n",(0,r.jsxs)(d.li,{children:["Legacy ",(0,r.jsx)(d.code,{children:"providers"})," array: Migrated to ",(0,r.jsx)(d.code,{children:"llm_providers"})]}),"\n"]})]})}function x(e={}){const{wrapper:d}={...(0,s.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,d,n)=>{n.d(d,{R:()=>l,x:()=>c});var i=n(6540);const r={},s=i.createContext(r);function l(e){const d=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:d},e.children)}}}]);