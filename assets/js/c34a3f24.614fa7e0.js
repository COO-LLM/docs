"use strict";(globalThis.webpackChunkcoo_llm_docs=globalThis.webpackChunkcoo_llm_docs||[]).push([[117],{2028:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Guides/Configuration","title":"Configuration","description":"COO-LLM uses YAML configuration files for all settings. The configuration is hierarchical and supports environment variable substitution, validation, and hot-reload.","source":"@site/content/Guides/Configuration.md","sourceDirName":"Guides","slug":"/Guides/Configuration","permalink":"/docs/docs/Guides/Configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/coo-llm/coo-llm-main/tree/main/docs/content/content/Guides/Configuration.md","tags":[{"inline":true,"label":"user-guide","permalink":"/docs/docs/tags/user-guide"},{"inline":true,"label":"configuration","permalink":"/docs/docs/tags/configuration"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["user-guide","configuration"]},"sidebar":"tutorialSidebar","previous":{"title":"Administrator Guide Overview","permalink":"/docs/docs/Administrator-Guide/Overview"},"next":{"title":"Monitoring & Metrics","permalink":"/docs/docs/Administrator-Guide/Monitoring"}}');var d=i(4848),s=i(8453);const l={sidebar_position:2,tags:["user-guide","configuration"]},t="Configuration",c={},o=[{value:"Configuration Loading Flow",id:"configuration-loading-flow",level:2},{value:"Configuration File Structure",id:"configuration-file-structure",level:2},{value:"Configuration Sections",id:"configuration-sections",level:2},{value:"Server Configuration",id:"server-configuration",level:3},{value:"Web UI Configuration",id:"web-ui-configuration",level:4},{value:"Logging Configuration",id:"logging-configuration",level:3},{value:"File Logging",id:"file-logging",level:4},{value:"Prometheus Logging",id:"prometheus-logging",level:4},{value:"Log Providers",id:"log-providers",level:4},{value:"Storage Configuration",id:"storage-configuration",level:3},{value:"Config Storage",id:"config-storage",level:4},{value:"Runtime Storage",id:"runtime-storage",level:4},{value:"LLM Provider Configuration",id:"llm-provider-configuration",level:3},{value:"Multiple API Keys",id:"multiple-api-keys",level:4},{value:"API Key Permissions",id:"api-key-permissions",level:3},{value:"Model Aliases",id:"model-aliases",level:3},{value:"Policy Configuration",id:"policy-configuration",level:3},{value:"Model Names",id:"model-names",level:3},{value:"Policy Configuration",id:"policy-configuration-1",level:3},{value:"Load Balancing Algorithms",id:"load-balancing-algorithms",level:4},{value:"API Key Load Balancing",id:"api-key-load-balancing",level:4},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Configuration Validation",id:"configuration-validation",level:2},{value:"Hot Reload",id:"hot-reload",level:2},{value:"Example Configurations",id:"example-configurations",level:2},{value:"Minimal Configuration",id:"minimal-configuration",level:3},{value:"Production Configuration",id:"production-configuration",level:3},{value:"Configuration API",id:"configuration-api",level:2},{value:"Metrics API",id:"metrics-api",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,d.jsx)(n.p,{children:"COO-LLM uses YAML configuration files for all settings. The configuration is hierarchical and supports environment variable substitution, validation, and hot-reload."}),"\n",(0,d.jsx)(n.h2,{id:"configuration-loading-flow",children:"Configuration Loading Flow"}),"\n",(0,d.jsx)(n.mermaid,{value:"flowchart TD\n    classDef input fill:#28a745,color:#fff,stroke:#fff,stroke-width:2px\n    classDef process fill:#dc3545,color:#fff,stroke:#fff,stroke-width:2px\n    classDef storage fill:#007bff,color:#fff,stroke:#fff,stroke-width:2px\n    classDef decision fill:#ffc107,color:#000,stroke:#000,stroke-width:2px\n\n    A[Application Start]:::input\n    A --\x3e B[Load YAML Config<br/>config.yaml]:::process\n    B --\x3e C[Environment Variable<br/>Substitution<br/>VAR]:::process\n    C --\x3e D[Validate Configuration<br/>Required fields, types]:::process\n    D --\x3e E{Valid?}:::decision\n\n    E --\x3e|No| F[Log Error<br/>Exit Application]:::process\n    E --\x3e|Yes| G[Initialize Components<br/>Providers, Storage, Logging]:::process\n    G --\x3e H[Load Model Aliases<br/>Map aliases to providers]:::process\n    H --\x3e I[Start HTTP Server<br/>Ready for requests]:::process\n\n    D --\x3e J[Parse Providers<br/>OpenAI, Gemini, Claude]:::storage\n    D --\x3e K[Parse API Keys<br/>With permissions]:::storage\n    D --\x3e L[Parse Policies<br/>Algorithm, weights]:::storage"}),"\n",(0,d.jsx)(n.h2,{id:"configuration-file-structure",children:"Configuration File Structure"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'version: "1.0"\n\nserver:\n  listen: ":2906"\n  admin_api_key: "${ADMIN_API_KEY}"\n  cors:\n    enabled: true\n    allowed_origins: ["*"]\n    allowed_methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]\n    allowed_headers: ["*"]\n    allow_credentials: true\n    max_age: 86400\n  webui:\n    enabled: true\n    admin_id: "admin"\n    admin_password: "password"\n    # web_ui_path: "/path/to/custom/ui"  # Optional: custom web UI path\n\nlogging:\n  file:\n    enabled: true\n    path: "./logs/llm.log"\n    max_size_mb: 100\n    max_backups: 5\n  prometheus:\n    enabled: true\n    endpoint: "/metrics"\n  providers: []\n\nstorage:\n  config:\n    type: "file"\n    path: "./data/config.json"\n  runtime:\n    type: "sql"\n    addr: "./data/coo-llm.db" \n\nllm_providers:\n  - id: "openai"\n    type: "openai"\n    api_keys: ["${OPENAI_API_KEY}"]\n    model: "gpt-4o"\n    pricing:\n      input_token_cost: 0.002\n      output_token_cost: 0.01\n    limits:\n      req_per_min: 200\n      tokens_per_min: 100000\n  - id: "gemini"\n    type: "gemini"\n    api_keys: ["${GEMINI_API_KEY}"]\n    model: "gemini-1.5-pro"\n    pricing:\n      input_token_cost: 0.00025\n      output_token_cost: 0.0005\n    limits:\n      req_per_min: 150\n      tokens_per_min: 80000\n  - id: "claude"\n    type: "claude"\n    api_keys: ["${CLAUDE_API_KEY}"]\n    base_url: "https://api.anthropic.com"\n    model: "claude-3-opus-20240229"\n    pricing:\n      input_token_cost: 0.015\n      output_token_cost: 0.075\n    limits:\n      req_per_min: 100\n      tokens_per_min: 60000\n\napi_keys:\n  - id: "default-client"  # Optional unique identifier\n    key: "${API_KEY}"\n    allowed_providers: ["*"]  # Access all providers\n    description: "Default API key for all providers"\n\nmodel_aliases: {  # Use inline format to avoid YAML parsing issues with colon characters\n  "gpt-4o": "openai:gpt-4o",\n  "gpt-4o-mini": "openai:gpt-4o-mini",\n  "gpt-4-turbo": "openai:gpt-4-turbo",\n  "gpt-4": "openai:gpt-4",\n  "gpt-3.5-turbo": "openai:gpt-3.5-turbo",\n  "gpt-3.5-turbo-instruct": "openai:gpt-3.5-turbo-instruct",\n  "gemini-1.5-pro": "gemini:gemini-1.5-pro",\n  "gemini-2.0-pro": "gemini:gemini-2.0-pro",\n  "gemini-2.0-flash": "gemini:gemini-2.0-flash",\n  "gemini-2.5-pro": "gemini:gemini-2.5-pro",\n  "gemini-2.5-flash": "gemini:gemini-2.5-flash",\n  "claude-3-opus": "claude:claude-3-opus-20240229",\n  "claude-3-sonnet": "claude:claude-3-sonnet-20240229",\n  "claude-3-haiku": "claude:claude-3-haiku-20240307",\n  "claude-3-5-sonnet": "claude:claude-3-5-sonnet-20240620",\n  "opus-4.1": "claude:opus-4.1",\n  "sonnet-4.5": "claude:sonnet-4.5",\n  "haiku-3.5": "claude:haiku-3.5"\n}\n\npolicy:\n  strategy: "hybrid"\n  algorithm: "hybrid"   # "round_robin", "least_loaded", "hybrid"\n  priority: "balanced"  # "balanced", "cost", "req", "token" (auto-sets weights)\n  hybrid_weights:       # Auto-set based on priority, or customize\n    token_ratio: 0.2\n    req_ratio: 0.2\n    error_score: 0.2\n    latency: 0.2\n    cost_ratio: 0.2\n  retry:\n    max_attempts: 3      # Max retry attempts\n    timeout: "30s"       # Timeout per attempt\n    interval: "1s"       # Interval between retries\n  fallback:\n    enabled: true\n    max_providers: 2\n    providers: ["openai", "gemini"]\n  cache:\n    enabled: true        # Enable response caching\n    ttl_seconds: 10      # Cache TTL (10 seconds)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"configuration-sections",children:"Configuration Sections"}),"\n",(0,d.jsx)(n.h3,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"listen"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:":2906"})}),(0,d.jsx)(n.td,{children:"Server listen address"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"admin_api_key"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"API key for admin endpoints"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable CORS support"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.allowed_origins"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'["*"]'})}),(0,d.jsxs)(n.td,{children:["Allowed origins or ",(0,d.jsx)(n.code,{children:'["*"]'})," for all"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.allowed_methods"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'["GET", "POST", "PUT", "DELETE", "OPTIONS"]'})}),(0,d.jsx)(n.td,{children:"Allowed HTTP methods"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.allowed_headers"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'["*"]'})}),(0,d.jsxs)(n.td,{children:["Allowed headers or ",(0,d.jsx)(n.code,{children:'["*"]'})," for all"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.allow_credentials"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Allow credentials in CORS requests"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cors.max_age"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"86400"})}),(0,d.jsx)(n.td,{children:"Preflight cache duration in seconds"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"web-ui-configuration",children:"Web UI Configuration"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable web UI"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"admin_id"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"admin"})}),(0,d.jsx)(n.td,{children:"Admin login username"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"admin_password"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"password"})}),(0,d.jsx)(n.td,{children:"Admin login password"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"web_ui_path"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Custom path to web UI build directory (optional)"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"logging-configuration",children:"Logging Configuration"}),"\n",(0,d.jsx)(n.h4,{id:"file-logging",children:"File Logging"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable file logging"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"path"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"./logs/llm.log"})}),(0,d.jsx)(n.td,{children:"Log file path"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_size_mb"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"100"})}),(0,d.jsx)(n.td,{children:"Max file size in MB"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_backups"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"5"})}),(0,d.jsx)(n.td,{children:"Max backup files"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"prometheus-logging",children:"Prometheus Logging"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable Prometheus metrics"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"endpoint"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/metrics"})}),(0,d.jsx)(n.td,{children:"Metrics endpoint path"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"log-providers",children:"Log Providers"}),"\n",(0,d.jsx)(n.p,{children:"Array of log provider configurations:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Provider name"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"type"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsxs)(n.td,{children:["Provider type (",(0,d.jsx)(n.code,{children:"http"}),", ",(0,d.jsx)(n.code,{children:"prometheus"}),", etc.)"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"endpoint"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"HTTP endpoint for webhooks"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"batch.enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"Enable batching"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"batch.size"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"Batch size"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"batch.interval_seconds"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"Batch interval"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"storage-configuration",children:"Storage Configuration"}),"\n",(0,d.jsx)(n.h4,{id:"config-storage",children:"Config Storage"}),"\n",(0,d.jsx)(n.p,{children:"Used for dynamic config loading/saving with automatic masking of sensitive data."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"type"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"file"})}),(0,d.jsxs)(n.td,{children:["Storage type (",(0,d.jsx)(n.code,{children:"file"}),", ",(0,d.jsx)(n.code,{children:"http"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"path"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"./data/config.json"})}),(0,d.jsx)(n.td,{children:"File path (for file type)"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"runtime-storage",children:"Runtime Storage"}),"\n",(0,d.jsx)(n.p,{children:"Used for caching, sessions, and runtime data."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"type"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"sql"})}),(0,d.jsxs)(n.td,{children:["Storage type (",(0,d.jsx)(n.code,{children:"redis"}),", ",(0,d.jsx)(n.code,{children:"http"}),", ",(0,d.jsx)(n.code,{children:"sql"}),", ",(0,d.jsx)(n.code,{children:"mongodb"}),", ",(0,d.jsx)(n.code,{children:"dynamodb"}),", ",(0,d.jsx)(n.code,{children:"influxdb"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"addr"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"./data/coo-llm.db"})}),(0,d.jsx)(n.td,{children:"Connection string, file path, or endpoint"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"password"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Redis password or InfluxDB token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_key"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"API key for HTTP storage or InfluxDB org"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"database"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Database name for MongoDB or InfluxDB bucket"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Storage Types:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"redis"}),": Redis database (persistent, distributed)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"sql"}),": SQL database (SQLite/PostgreSQL, persistent)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"mongodb"}),": MongoDB document database (persistent)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"dynamodb"}),": AWS DynamoDB (persistent, serverless)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"influxdb"}),": InfluxDB time-series database (historical metrics, persistent)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"http"}),": HTTP endpoint storage (remote API)"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"llm-provider-configuration",children:"LLM Provider Configuration"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note:"})," The ",(0,d.jsx)(n.code,{children:"providers"})," field is a legacy field and should not be used. Please use ",(0,d.jsx)(n.code,{children:"llm_providers"})," instead."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Array of LLM provider configurations:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Unique provider ID (used in model aliases)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"type"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsxs)(n.td,{children:["Provider type: ",(0,d.jsx)(n.code,{children:"openai"}),", ",(0,d.jsx)(n.code,{children:"gemini"}),", ",(0,d.jsx)(n.code,{children:"claude"}),", ",(0,d.jsx)(n.code,{children:"custom"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_keys"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsx)(n.td,{children:"Array of API keys for load balancing and failover"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Provider API base URL (optional, uses default if not set)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"model"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Default model for this provider"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"pricing.input_token_cost"})}),(0,d.jsx)(n.td,{children:"float64"}),(0,d.jsx)(n.td,{children:"Cost per input token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"pricing.output_token_cost"})}),(0,d.jsx)(n.td,{children:"float64"}),(0,d.jsx)(n.td,{children:"Cost per output token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"limits.req_per_min"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"Request rate limit per key"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"limits.tokens_per_min"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"Token rate limit per key"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"multiple-api-keys",children:"Multiple API Keys"}),"\n",(0,d.jsx)(n.p,{children:"Providers support multiple API keys for load balancing and redundancy:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'llm_providers:\n  - id: "openai"\n    type: "openai"\n    api_keys: ["${OPENAI_KEY_1}", "${OPENAI_KEY_2}", "${OPENAI_KEY_3}"]\n    model: "gpt-4o"\n    limits:\n      req_per_min: 200  # Per key\n      tokens_per_min: 100000\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Key Selection Algorithm:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Load Balancing"}),": Selects key with least usage (requests + tokens)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Failover"}),": Retries with next key on API errors (rate limits, quota)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Thread-Safe"}),": Concurrent requests use different keys safely"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Usage Tracking:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Tracks requests and tokens per key"}),"\n",(0,d.jsx)(n.li,{children:"Balances load across keys automatically"}),"\n",(0,d.jsx)(n.li,{children:"Resets on application restart"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"api-key-permissions",children:"API Key Permissions"}),"\n",(0,d.jsx)(n.p,{children:"Array of client API key configurations:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Optional unique identifier for the API key"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"key"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Client API key for authentication"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"allowed_providers"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsxs)(n.td,{children:["Array of allowed provider IDs or ",(0,d.jsx)(n.code,{children:'["*"]'})," for all"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"description"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Human-readable description"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"model-aliases",children:"Model Aliases"}),"\n",(0,d.jsxs)(n.p,{children:["Model aliases map short names to provider",":model"," combinations for convenience:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'model_aliases: {\n  "gpt-4o": "openai:gpt-4o",\n  "claude": "claude:claude-3-opus-20240229"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["You can also use provider",":model"," names directly:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# Examples\n"gpt-4o"           # Uses alias\n"openai:gpt-4o"    # Direct provider:model\n"gemini:gemini-1.5-pro"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"policy-configuration",children:"Policy Configuration"}),"\n",(0,d.jsx)(n.p,{children:"Load balancing and routing policy:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"strategy"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid"})}),(0,d.jsxs)(n.td,{children:["Legacy field, use ",(0,d.jsx)(n.code,{children:"algorithm"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"algorithm"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"round_robin"})}),(0,d.jsxs)(n.td,{children:["Algorithm: ",(0,d.jsx)(n.code,{children:"round_robin"}),", ",(0,d.jsx)(n.code,{children:"least_loaded"}),", ",(0,d.jsx)(n.code,{children:"hybrid"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"priority"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"balanced"})}),(0,d.jsxs)(n.td,{children:["Priority preset: ",(0,d.jsx)(n.code,{children:"balanced"}),", ",(0,d.jsx)(n.code,{children:"cost"}),", ",(0,d.jsx)(n.code,{children:"req"}),", ",(0,d.jsx)(n.code,{children:"token"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid_weights.*"})}),(0,d.jsx)(n.td,{children:"float64"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Manual weights for hybrid scoring (0.0-1.0)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.max_attempts"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"3"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts on failure"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.timeout"})}),(0,d.jsx)(n.td,{children:"duration"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"30s"})}),(0,d.jsx)(n.td,{children:"Timeout per attempt"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.interval"})}),(0,d.jsx)(n.td,{children:"duration"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"1s"})}),(0,d.jsx)(n.td,{children:"Delay between retries"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fallback.enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable fallback to other providers"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fallback.max_providers"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"2"})}),(0,d.jsx)(n.td,{children:"Max fallback providers to try"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fallback.providers"})}),(0,d.jsx)(n.td,{children:"[]string"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"List of fallback provider IDs"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cache.enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable response caching"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cache.ttl_seconds"})}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"10"})}),(0,d.jsx)(n.td,{children:"Cache TTL in seconds"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"model-names",children:"Model Names"}),"\n",(0,d.jsxs)(n.p,{children:["Use full provider",":model"," names directly (no aliases needed):"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# Examples\n"openai:gpt-4o"\n"gemini:gemini-2.5-flash"\n"claude:claude-3-opus"\n"grok:grok-beta"\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note:"})," Model aliases use inline YAML format to avoid parsing issues with colon characters. You can also use provider",":model"," format directly."]}),"\n",(0,d.jsx)(n.h3,{id:"policy-configuration-1",children:"Policy Configuration"}),"\n",(0,d.jsx)(n.p,{children:"Load balancing and routing policy:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"strategy"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid"})}),(0,d.jsxs)(n.td,{children:["Legacy field, use ",(0,d.jsx)(n.code,{children:"algorithm"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"algorithm"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"round_robin"})}),(0,d.jsxs)(n.td,{children:["Algorithm: ",(0,d.jsx)(n.code,{children:"round_robin"}),", ",(0,d.jsx)(n.code,{children:"least_loaded"}),", ",(0,d.jsx)(n.code,{children:"hybrid"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"priority"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"balanced"})}),(0,d.jsxs)(n.td,{children:["Priority preset: ",(0,d.jsx)(n.code,{children:"balanced"}),", ",(0,d.jsx)(n.code,{children:"cost"}),", ",(0,d.jsx)(n.code,{children:"req"}),", ",(0,d.jsx)(n.code,{children:"token"})," (auto-sets weights)"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid_weights.*"})}),(0,d.jsx)(n.td,{children:"float64"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Manual weights for hybrid scoring (0.0-1.0)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.max_attempts"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"3"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts on failure"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.timeout"})}),(0,d.jsx)(n.td,{children:"duration"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"30s"})}),(0,d.jsx)(n.td,{children:"Timeout per attempt"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry.interval"})}),(0,d.jsx)(n.td,{children:"duration"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"1s"})}),(0,d.jsx)(n.td,{children:"Delay between retries"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cache.enabled"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Enable response caching"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cache.ttl_seconds"})}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"10"})}),(0,d.jsx)(n.td,{children:"Cache TTL in seconds"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"load-balancing-algorithms",children:"Load Balancing Algorithms"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"round_robin"}),": Cycle through providers/keys sequentially"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"least_loaded"}),": Select provider/key with lowest current load"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"hybrid"}),": Weighted scoring based on cost, latency, error rate"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"api-key-load-balancing",children:"API Key Load Balancing"}),"\n",(0,d.jsx)(n.p,{children:"Within each provider, multiple API keys are load balanced:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Automatic failover on rate limits/quota errors"}),"\n",(0,d.jsx)(n.li,{children:"Usage-based selection (requests + tokens)"}),"\n",(0,d.jsx)(n.li,{children:"Thread-safe concurrent access"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,d.jsx)(n.p,{children:"Configuration supports environment variable substitution in YAML files:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'server:\n  admin_api_key: "${ADMIN_API_KEY}"\n\nllm_providers:\n  - api_keys: ["${OPENAI_KEY_1}", "${OPENAI_KEY_2}"]\n    model: "${DEFAULT_MODEL}"\n'})}),"\n",(0,d.jsx)(n.p,{children:"Set environment variables before running:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'export OPENAI_KEY_1="sk-key1"\nexport OPENAI_KEY_2="sk-key2"\nexport DEFAULT_MODEL="gpt-4o"\n./coo-llm --config config.yaml\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note"}),": Variables are expanded at config load time, not runtime."]}),"\n",(0,d.jsx)(n.h2,{id:"configuration-validation",children:"Configuration Validation"}),"\n",(0,d.jsx)(n.p,{children:"COO-LLM validates configuration on startup:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Required fields presence"}),"\n",(0,d.jsx)(n.li,{children:"URL format validation"}),"\n",(0,d.jsx)(n.li,{children:"Numeric range checks"}),"\n",(0,d.jsx)(n.li,{children:"Provider and key uniqueness"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Invalid configurations will prevent startup with detailed error messages."}),"\n",(0,d.jsx)(n.h2,{id:"hot-reload",children:"Hot Reload"}),"\n",(0,d.jsx)(n.p,{children:"Configuration can be reloaded without restarting:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:2906/admin/v1/reload \\\n  -H "Authorization: Bearer your-admin-key"\n'})}),"\n",(0,d.jsx)(n.h2,{id:"example-configurations",children:"Example Configurations"}),"\n",(0,d.jsx)(n.h3,{id:"minimal-configuration",children:"Minimal Configuration"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'version: "1.0"\nserver:\n  listen: ":2906"\n\nllm_providers:\n  - id: "openai"\n    type: "openai"\n    api_keys: ["sk-your-key"]\n    model: "gpt-4o"\n\n# model_aliases supported - maps short names to provider:model combinations\n'})}),"\n",(0,d.jsx)(n.h3,{id:"production-configuration",children:"Production Configuration"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'version: "1.0"\nserver:\n  listen: ":2906"\n  admin_api_key: "${ADMIN_KEY}"\n\nlogging:\n  file:\n    enabled: true\n    path: "/var/log/coo-llm/llm.log"\n  prometheus:\n    enabled: true\n\nstorage:\n  config:\n    type: "file"\n    path: "./data/config.json"\n  runtime:\n    type: "influxdb"\n    addr: "http://influxdb:8086"\n    password: "${INFLUX_TOKEN}"\n    api_key: "${INFLUX_ORG}"\n    database: "${INFLUX_BUCKET}"\n\nllm_providers:\n  - id: "openai-prod"\n    type: "openai"\n    api_keys: ["${OPENAI_KEY_1}", "${OPENAI_KEY_2}", "${OPENAI_KEY_3}"]  # Multiple keys for load balancing\n    base_url: "https://api.openai.com"\n    model: "gpt-4o"\n    pricing:\n      input_token_cost: 0.002\n      output_token_cost: 0.01\n    limits:\n      req_per_min: 200  # Per key rate limit\n      tokens_per_min: 100000\n  - id: "gemini-prod"\n    type: "gemini"\n    api_keys: ["${GEMINI_KEY_1}"]\n    base_url: "https://generativelanguage.googleapis.com"\n    model: "gemini-1.5-pro"\n    pricing:\n      input_token_cost: 0.00025\n      output_token_cost: 0.0005\n    limits:\n      req_per_min: 150\n      tokens_per_min: 80000\n\napi_keys:\n  - id: "client-a"\n    key: "client-a-key"\n    allowed_providers: ["openai-prod"]\n    description: "Client A - OpenAI only"\n  - id: "premium-client"\n    key: "premium-key"\n    allowed_providers: ["openai-prod", "gemini-prod"]\n    description: "Premium client with all providers"\n\n# model_aliases supported - or use "openai-prod:gpt-4o" or "gemini-prod:gemini-1.5-pro" directly\n\npolicy:\n  algorithm: "hybrid"\n  priority: "balanced"\n  retry:\n    max_attempts: 3\n    timeout: "30s"\n  cache:\n    enabled: true\n    ttl_seconds: 10\n'})}),"\n",(0,d.jsx)(n.h2,{id:"configuration-api",children:"Configuration API"}),"\n",(0,d.jsx)(n.p,{children:"Manage configuration via REST API:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# Get current config\ncurl -H "Authorization: Bearer your-admin-key" http://localhost:2906/admin/v1/config\n\n# Update config\ncurl -X POST http://localhost:2906/admin/v1/config \\\n  -H "Authorization: Bearer your-admin-key" \\\n  -H "Content-Type: application/json" \\\n  -d @new-config.json\n\n# Validate config\ncurl -X POST http://localhost:2906/admin/v1/config/validate \\\n  -H "Authorization: Bearer your-admin-key" \\\n  -H "Content-Type: application/json" \\\n  -d @config.json\n\n# Get metrics data\ncurl -H "Authorization: Bearer your-admin-key" \\\n  "http://localhost:2906/admin/v1/metrics?name=latency&start=1700000000&end=1700003600"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"metrics-api",children:"Metrics API"}),"\n",(0,d.jsx)(n.p,{children:"Retrieve historical metrics for monitoring and analytics:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"latency"})}),(0,d.jsxs)(n.td,{children:["Metric name: ",(0,d.jsx)(n.code,{children:"latency"}),", ",(0,d.jsx)(n.code,{children:"tokens"}),", ",(0,d.jsx)(n.code,{children:"cost"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"start"})}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"1 hour ago"}),(0,d.jsx)(n.td,{children:"Start timestamp (Unix seconds)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"end"})}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"now"}),(0,d.jsx)(n.td,{children:"End timestamp (Unix seconds)"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Response Format:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "name": "latency",\n  "start": 1700000000,\n  "end": 1700003600,\n  "points": [\n    {"value": 150.5, "timestamp": 1700000100},\n    {"value": 120.2, "timestamp": 1700000200}\n  ]\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Metrics are tagged with ",(0,d.jsx)(n.code,{children:"provider"}),", ",(0,d.jsx)(n.code,{children:"key"}),", ",(0,d.jsx)(n.code,{children:"model"}),", and ",(0,d.jsx)(n.code,{children:"client_key"})," for detailed filtering."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var r=i(6540);const d={},s=r.createContext(d);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);